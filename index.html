<!DOCTYPE HTML>

<html>

<head>
	<title>BSMGC</title>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
	<link rel="stylesheet" href="assets/css/main.css" />
	<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
	<noscript>
		<link rel="stylesheet" href="assets/css/noscript.css" />
	</noscript>
</head>

<body class="is-preload">

	<!-- Wrapper -->
	<div id="wrapper">

		<!--Menu for phones-->
		<div id="menu">
			<button  onclick="showMenu()"><i id="menuBtn" class="material-icons">menu</i></button>
			<div class="dropdown-options">
				<a onclick="goToTab(event, 'info')">Info</a>
				<a onclick="goToTab(event, 'tournaments')">Tournaments</a>
				<a onclick="goToTab(event, 'board')">The Board</a>
				<a onclick="goToTab(event, 'gallery')">Gallery</a>
				<a onclick="goToTab(event, 'notes')">Notes</a>
			</div>
		</div>

		<!-- Header -->
		<header id="header" class="alt">
			<!-- <span class="logo"><img src="images/logo.svg" alt="" /></span> -->
			<h1>BSMGC</h1>
		</header>

		<!-- Nav -->
		<nav id="nav">
			<ul>
				<!-- <li><a href="#intro" class="active">Info</a></li>
				<li><a href="#first">Tournaments</a></li>
				<li><a href="#second">The Board</a></li>
				<li><a href="#cta">Gallery</a></li>
				<li><a href="https://bsmgc.club/gallery/UpdateNotes.pdf" target="_blank">Notes</a></li> -->
				
				<li><a onclick="goToTab(event, 'info')">Info</a></li>
				<li><a onclick="goToTab(event, 'tournaments')">Tournaments</a></li>
				<li><a onclick="goToTab(event, 'board')">The Board</a></li>
				<li><a onclick="goToTab(event, 'gallery')">Gallery</a></li>
				<li><a onclick="goToTab(event, 'notes')">Notes</a></li>
			</ul>
		</nav>

		<!-- Main -->
		<div id="main">

			<!-- Introduction -->
			<section id="info" class="main activeTab">
				<div class="spotlight">
					<div class="content">
						<header class="major">
							<ul class="actions">
								<li><a href="https://bsmgc.club/gallery/gallery-bsmgc_bylaws_15.pdf" target="_blank"
										class="button">BSMGC Bylaws</a></li>
								<li><a href="https://bsmgc.club/gallery/bsmgc_history.pdf" target="_blank"
										class="button">History</a></li>
								<li><a href="https://bsmgc.club/gallery/Rules_August_2023.pdf" target="_blank"
										class="button">Local Rules</a></li>
								<li><a href="https://bsmgc.club/gallery/Hole_out_rules.pdf" target="_blank"
										class="button">Urgent News</a></li>
							</ul>
						</header>
						<p>Any person 50 years of age or older is eligible for membership to the Burbank Senior Men’s
							Golf Club.<br>
							Membership dues are $65.00 annually.<br>
							Official USGA Handicap is used and home tournaments are usually held on the first Thursday
							of each month with a shotgun start at 8:00 am. <br>
							Your application is subject to acceptance as provided in the bylaws for the BCMGC.<br>
							All applicants agree to abide by the Rules and Regulations set forth by the City of Burbank
							for the Burbank Senior Men’s Golf Club.</p>
						<ul class="actions">
							<li><a href="generic.html" class="button primary">Join / Renew Now</a></li>
							<li><a href="https://www.debellgolf.com/" class="button">DeBell Golf CLub</a></li>
							<li><a href="https://www.ghin.com/login" class="button">GHIN-USA</a></li>
						</ul>
					</div>
				</div>
			</section>

			<!-- First Section -->
			<section id="tournaments" class="main special">
				<header class="major">
					<h2>Tournaments</h2>
				</header>
				<!-- <h3>Recent Tournaments</h3> -->
				<ul class="features" id="tournaments" >
					<li id="tournamentSchedule" onclick="goTo('./documents/Tournament Schedule 2024.pdf')">2024 Schedule</li>


					<li id="pastSchedule" onclick="togglePastTournaments()">
						<a class="dropbtn">View Past Results</a>
						<div id="pastTournaments" class="dropdown-content"></div>
					</li>					
					
				</ul>				
			</section>

			<!-- Second Section -->
			<section id="board" class="main special">
				<header class="major">
					<h2><span class="boardTitle" onclick="toggleBoard()">BSMGC Board of Directors</span></h2>
				</header>
				<div id="boardList" class="grid-container" >
				</div>
			</section>

			<!-- Get Started -->
			<section id="gallery" class="main special">
				<header class="major">
					<h2>Gallery</h2>
				</header>

				<!-- Slideshow container -->
				<div class="slideshow-container">
					<!-- Next and previous buttons -->
					<a class="prev" onclick="plusSlides(-1)">&#10094;</a>
					<a class="next" onclick="plusSlides(1)">&#10095;</a>
				</div>
				<br>

				<!-- The dots/circles -->
				<div style="text-align:center">
					<span class="dot" onclick="currentSlide(1)"></span>
					<span class="dot" onclick="currentSlide(2)"></span>
					<span class="dot" onclick="currentSlide(3)"></span>
				</div>

			</section>

			<!-- Get Started -->
			<section id="notes" class="main special">
				<header class="major">
					<h2>Notes</h2>
				</header>
				<embed type="application/pdf" src="https://bsmgc.club/gallery/UpdateNotes.pdf#toolbar=0&navpanes=0&scrollbar=0" width="90%" height="800"></object>
			</section>

		</div>

		<!-- Footer -->
		<footer id="footer">
			<p class="copyright">&copy; 2024 BSMGC</p>
		</footer>

	</div>

	<!-- Scripts -->
	<script src="assets/js/jquery.min.js"></script>
	<script src="assets/js/jquery.scrollex.min.js"></script>
	<script src="assets/js/jquery.scrolly.min.js"></script>
	<script src="assets/js/browser.min.js"></script>
	<script src="assets/js/breakpoints.min.js"></script>
	<script src="assets/js/util.js"></script>
	<script src="assets/js/main.js"></script>
	<script type="text/javascript" language="javascript" src="board.js"></script>
	<script type="text/javascript" language="javascript" src="gallery.js"></script>

	<script>

		function showMenu() {
			$('.dropdown-options').slideToggle();
		}

		//get board member div
		var boardDiv = document.getElementById("boardList");

		//loop through each member and add image and description
		board.members.forEach((member, i) => {
			var iDiv = document.createElement('div');
			iDiv.className = 'grid-item';

			var img = document.createElement('img');
			img.src = member.img == '' ? './images/member_photos/default_user.png' : member.img;
			iDiv.appendChild(img);

			var iiDiv = document.createElement('div');
			iiDiv.className = "member-info"
			iiDiv.innerHTML = `<strong>${member.title}</strong><br><span>${member.name}<br>${member.phone}<br><a href="mailTo:${member.email}">${member.email}</a></span>`;

			iDiv.appendChild(iiDiv);
			boardDiv.appendChild(iDiv);
		});

		//loop through tournaments
		let tournamentDiv = document.getElementById("recentTournaments");
		let tournamentSchedule = document.getElementById("tournamentSchedule");
		let pastSchedule = document.getElementById("pastSchedule");
		let pastTournamentsDiv = document.getElementById("pastTournaments");
		$.getJSON("./tournaments.json", function(data) {
			//sort tournaments by date 
			data.sort((a,b) => { return new Date(a.date) - new Date(b.date); }).forEach((tournament, index)=> {

				//if tournament is from this year
				if(new Date(tournament.date).getUTCFullYear() === new Date().getUTCFullYear()) {

					var li = document.createElement('li');	

					if(tournament.title.toLowerCase().includes('cancel') ) {
						li.style = "background-color:#ff0000c7; color:white;"
					}
					else if(tournament.results) {
						li.style = "background-color:#00800029";
					}
					else if (tournament.teeTimes) {
						li.style = "background-color:#9d9df13d";
					}
					else {
						li.style = "background-color:#ede3d0";
					}
					
					li.innerHTML = `<span class="tournament-title">${tournament.title}</span> <span class='tournament-description'>${tournament.description}</span> <span class="tournament-date">${tournament.date}</span>`;
					li.classList.add('dropdown');

					//dropdown menu
					var menuDiv = document.createElement('div');
					menuDiv.classList.add('dropdown-content');

					var entryForm = document.createElement('a');
					entryForm.innerHTML = "Entry Form";
					entryForm.href= tournament.entryForm ? `./documents/${tournament.entryForm}` : './documents/Burbank Senior Men Entry Form.docx';
					entryForm.target = '_blank';					

					var teeTimes = document.createElement('a');
					teeTimes.innerHTML = "Tee Times";
					if(tournament.teeTimes) {
						teeTimes.href=`./tournaments/${tournament.teeTimes}`;
						teeTimes.target = '_blank';
					}
					else {
						teeTimes.classList.add('disabled');
					}

					var results = document.createElement('a');
					results.innerHTML = "Results";
					if(tournament.results) {
						results.href=`./tournaments/${tournament.results}`;
						results.target = '_blank';
					}
					else {
						results.classList.add('disabled');
					}

					menuDiv.appendChild(entryForm);
					menuDiv.appendChild(teeTimes);
					menuDiv.appendChild(results);

					li.appendChild(menuDiv);

					pastSchedule.before(li);

					// var aTag = document.createElement('a');
					// aTag.href = './tournaments/'+tournament.file;
					// aTag.target = '_blank';
					// aTag.innerHTML = tournament.name;

					// tournamentDiv.appendChild(aTag);	
				}
				else {
					var aTag = document.createElement('a');
					aTag.href = './tournaments/'+tournament.results;
					aTag.target = '_blank';
					aTag.innerHTML = tournament.title;

					pastTournamentsDiv.appendChild(aTag);					
				}
			})
		});

		function toggleBoard() {
			$('#boardList').slideToggle('slow');
			$('#boardExpand').fadeToggle('slow');
		}

		function goTo(url) {
			window.open(url, '_blank').focus();
		}

		function toggleRecentTournaments() {
			document.getElementById("recentTournaments").classList.toggle("show");
		}

		function togglePastTournaments() {
			document.getElementById("pastTournaments").classList.toggle("show");
		}

		// Close the dropdown if the user clicks outside of it
		window.onclick = function(event) {
			if (!event.target.matches('.dropbtn')) {
				var dropdowns = document.getElementsByClassName("dropdown-content");
				var i;
				for (i = 0; i < dropdowns.length; i++) {
				var openDropdown = dropdowns[i];
				if (openDropdown.classList.contains('show')) {
					openDropdown.classList.remove('show');
				}
				}
			}


			if (!event.target.matches('#menuBtn')) {

				if ($(".dropdown-options").is(":visible")) {
					$('.dropdown-options').slideUp();
				}

				// var dropdowns = document.getElementsByClassName("dropdown-options");
				// var i;
				// for (i = 0; i < dropdowns.length; i++) {
				// 	var openDropdown = dropdowns[i];
				// 	if (openDropdown.classList.contains('show')) {
				// 		openDropdown.classList.remove('show');
				// 	}
				// }
			}
		}


		//show gallery
		var folder = "images/gallery/";
		var galleryDiv = document.getElementsByClassName("slideshow-container")[0];
		$.ajax({
			url : folder,
			success: function (data) {
				$(data).find("a").attr("href", function (i, val) {
					if( val.match(/\.(jpe?g|png|gif)$/) ) { 
						//$("body").append( "<img src='"+ folder + val +"'>" );
						var iDiv = document.createElement('div');
						iDiv.className = "mySlides";

						var img = document.createElement('img');
						img.src = "./images/gallery/" + val;
						img.style = "width:100%;";

						iDiv.appendChild(img);

						galleryDiv.appendChild(iDiv);
					} 
				});
				showSlides(slideIndex);
			}
		});


		//add images to gallery div for slideshow
		// var galleryDiv = document.getElementsByClassName("slideshow-container")[0];
		// gallery.photos.forEach((photo, i) => {
		// 	var iDiv = document.createElement('div');
		// 	iDiv.className = "mySlides";

		// 	var img = document.createElement('img');
		// 	img.src = "./images/gallery/" + photo;
		// 	img.style = "width:100%;";

		// 	iDiv.appendChild(img);

		// 	galleryDiv.appendChild(iDiv);
		// });


		function goToTab(event, tab) {


			$('section').removeClass('activeTab');
			$('#'+tab).addClass('activeTab');
		}



		//gallery slides
		let slideIndex = 1;
		

		// Next/previous controls
		function plusSlides(n) {
			showSlides(slideIndex += n);
		}

		// Thumbnail image controls
		function currentSlide(n) {
			showSlides(slideIndex = n);
		}

		function showSlides(n) {
			let i;
			let slides = document.getElementsByClassName("mySlides");
			let dots = document.getElementsByClassName("dot");
			if (n > slides.length) { slideIndex = 1 }
			if (n < 1) { slideIndex = slides.length }
			for (i = 0; i < slides.length; i++) {
				slides[i].style.display = "none";
			}
			for (i = 0; i < dots.length; i++) {
				dots[i].className = dots[i].className.replace(" active", "");
			}
			slides[slideIndex - 1].style.display = "block";
			dots[slideIndex - 1].className += " active";
		} 


		
	</script>

</body>

</html>